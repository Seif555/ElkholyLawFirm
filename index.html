<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>مجموعة الخولي القانونية</title>

  <!-- Arabic font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- AOS CSS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

  <!-- Your stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Topbar -->
  <header id="topbar" class="topbar" role="banner">
    <div class="container topbar-inner">
      <div class="brand">
        <a class="brand-link" href="#home">مجموعة الخولي القانونية</a>
      </div>

      <nav class="nav" aria-label="التنقل الرئيسي">
        <a class="nav-link" href="#home">الرئيسية</a>
        <a class="nav-link" href="#about">من نحن</a>
        <a class="nav-link" href="#services">خدماتنا</a>
        <a class="nav-link" href="#events">فاعليات</a>
        <a class="nav-link" href="#team">فريق العمل</a>
        <a class="nav-link" href="#contact">تواصل</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <main>
    <section id="home" class="hero">
      <div class="hero-overlay container" data-aos="fade-down">
        <h1>مجموعة الخولي القانونية</h1>
        <p class="lead">خبرة قانونية، استشارات متخصصة، ودعم منظمات المجتمع المدني.</p>
        <div class="hero-ctas">
          <a class="btn" href="#about">تعرف علينا</a>
          <a class="btn ghost" href="#contact">تواصل معنا</a>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section">
      <div class="container" data-aos="fade-up">
        <h2>من نحن</h2>
        <p>
          مكتب محاماة واستشارات يقدم خدمات قانونية متخصصة للمنظمات والمؤسسات المدنية.
          خبراتنا في الصياغة، الحوكمة، والتراخيص تدعم عمل شركائنا بشكل عملي.
        </p>
      </div>
    </section>

    <!-- Services -->
    <section id="services" class="section alt">
      <div class="container" data-aos="fade-up">
        <h2>خدماتنا</h2>
        <div class="services-grid">
          <div class="service" data-aos="fade-up" data-aos-delay="40">
            <h3>الاستشارات القانونية</h3>
            <p>قضايا مدنية، عقود، وتمثيل قانوني أمام الجهات المختصة.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="80">
            <h3>التراخيص والتنظيم</h3>
            <p>متابعة إجراءات الترخيص والتنظيم للمنظمات والجمعيات المحلية.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="120">
            <h3>العقود والمناقصات</h3>
            <p>صياغة مستندات وتقييم مخاطر التعاقد والمناقصات.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="160">
            <h3>التدريب وورش العمل</h3>
            <p>ورش توعية وتدريب إداري وقانوني لموظفي المنظمات.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Events / Achievements -->
    <section id="events" class="section">
      <div class="container">
        <h2 data-aos="fade-up">فاعليات وإنجازات</h2>

        <div class="featured" data-aos="fade-up" data-aos-delay="40">
          <div class="featured-media">
            <div class="video-placeholder">مكان إظهار فيديو يوتيوب (يُدرج لاحقاً)</div>
          </div>
          <div class="featured-body">
            <h3>مداخلة تلفزيونية</h3>
            <p class="muted">حلقة - 19 مارس 2023</p>
            <p>شرح حول أحكام القانون ودور المنظمات المدنية.</p>
          </div>
        </div>

        <div id="achievements-grid" class="achievements-grid"></div>
      </div>
    </section>

    <!-- Team -->
    <section id="team" class="section alt">
      <div class="container" data-aos="fade-up">
        <h2>فريق العمل</h2>
        <div class="team-grid">
          <div class="team-card" data-aos="fade-up">
            <div class="team-photo-placeholder">عاصم الخولي</div>
            <h3>عاصم الخولي</h3>
            <p class="muted">محامٍ واستشاري قانوني</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section contact">
      <div class="container" data-aos="fade-up">
        <h2>تواصل معنا</h2>
        <p>العنوان: شارع الهرم، الجيزة، مصر</p>
        <p>البريد: <a href="mailto:elkholy@elkholylawfirm.com">elkholy@elkholylawfirm.com</a></p>
        <p>الهاتف: +20 111 774 5552</p>
      </div>
    </section>
  </main>

  <!-- Floating WhatsApp -->
  <a class="whatsapp-fab" href="https://wa.me/201117745552" target="_blank" aria-label="WhatsApp">WA</a>

  <footer class="footer">
    <div class="container">© مجموعة الخولي القانونية</div>
  </footer>

  <!-- AOS script -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Site JS -->
  <script>
    // initialize AOS
    AOS.init({ once:true, duration:700, offset:120 });

    // === ACHIEVEMENTS DATA ===
    // Edit or extend this list. Put image: "assets/filename.jpg" or a public URL if you have images.
    const ACH = [
      { title: "ورشة عمل: الإدارة القانونية", text: "ورشة تدريبية لتطوير مهارات فرق العمل.", image: "", date: "21 فبراير 2024", aos: "fade-left" },
      { title: "مقال رأي: تحسين الحوكمة", text: "مقال في صحف محلية عن مبادئ الحوكمة.", image: "", date: "10 يناير 2024", aos: "fade-right" },
      { title: "ورشة توعوية بالأقصر", text: "فعاليات توعية قانونية للمجتمع المحلي.", image: "", date: "5 ديسمبر 2023", aos: "fade-left" },
      { title: "سلسلة تعليمية", text: "دورات وتدريب للكفاءات الشابة.", image: "", date: "28 أكتوبر 2023", aos: "fade-right" }
    ];

    // Utility: safe text insertion
    function setText(node, text){
      node.textContent = text === undefined || text === null ? '' : text;
    }

    // Create placeholder node used when no image or image fails
    function createImagePlaceholder(title){
      const ph = document.createElement('div');
      ph.className = 'image-placeholder';
      setText(ph, title || 'صورة غير متوفرة');
      return ph;
    }

    // Build one achievement row (DOM nodes, not string HTML)
    function buildAchievementRow(item, index){
      const row = document.createElement('div');
      row.className = 'achievement-row';

      const imgWrap = document.createElement('div');
      imgWrap.className = 'ach-img';

      if(item.image && item.image.trim()){
        const img = document.createElement('img');
        img.src = item.image;
        img.alt = item.title || 'صورة';
        // on error: hide image and show placeholder
        img.onerror = function(){
          img.style.display = 'none';
          const ph = createImagePlaceholder(item.title);
          imgWrap.appendChild(ph);
        };
        imgWrap.appendChild(img);
      } else {
        imgWrap.appendChild(createImagePlaceholder(item.title));
      }

      const txtWrap = document.createElement('div');
      txtWrap.className = 'ach-text';
      const h3 = document.createElement('h3');
      setText(h3, item.title);
      const p = document.createElement('p');
      setText(p, item.text);
      const d = document.createElement('div');
      d.className = 'ach-date muted';
      setText(d, item.date);

      txtWrap.appendChild(h3);
      txtWrap.appendChild(p);
      txtWrap.appendChild(d);

      // animation attributes (alternate)
      const leftAnim = item.aos || 'fade-left';
      const rightAnim = item.aos === 'fade-left' ? 'fade-right' : (item.aos || 'fade-right');

      const imageFirst = (index % 2 === 0);
      if(imageFirst){
        imgWrap.setAttribute('data-aos', leftAnim);
        txtWrap.setAttribute('data-aos', rightAnim);
        row.appendChild(imgWrap);
        row.appendChild(txtWrap);
      } else {
        txtWrap.setAttribute('data-aos', leftAnim);
        imgWrap.setAttribute('data-aos', rightAnim);
        row.appendChild(txtWrap);
        row.appendChild(imgWrap);
      }

      return row;
    }

    // Render achievements into the grid
    function renderAchievements(){
      const container = document.getElementById('achievements-grid');
      if(!container) return;
      container.innerHTML = ''; // clear
      ACH.forEach((it, idx) => {
        const row = buildAchievementRow(it, idx);
        container.appendChild(row);
      });
      // refresh AOS to pick up new elements
      if(window.AOS) AOS.refresh();
    }

    // Anchor scrolling fix (offset by header height)
    (function(){
      const header = document.getElementById('topbar');

      function headerHeight(){
        if(!header) return 72;
        return header.offsetHeight;
      }

      function scrollToHash(hash){
        if(!hash) return;
        const target = document.querySelector(hash);
        if(!target) return;
        const y = window.pageYOffset + target.getBoundingClientRect().top - (headerHeight() + 12);
        window.scrollTo({ top: y, behavior: 'smooth' });
      }

      // Intercept anchor clicks
      document.addEventListener('click', function(e){
        const a = e.target.closest('a[href^="#"]');
        if(!a) return;
        const href = a.getAttribute('href') || '';
        if(!href || href === '#') return;
        const target = document.querySelector(href);
        if(!target) return;
        e.preventDefault();
        scrollToHash(href);
        history.pushState(null, '', href);
      }, true);

      window.addEventListener('load', function(){
        // render first, then scroll if there's a hash
        renderAchievements();
        setTimeout(function(){
          if(location.hash) scrollToHash(location.hash);
        }, 60);
      });

      window.addEventListener('resize', function(){
        // no-op; header height is read dynamically when scrolling
      });
    })();
  </script>
</body>
</html>