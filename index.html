<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>مجموعة الخولي القانونية</title>

  <!-- Arabic web font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- AOS (animations) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>

  <!-- site stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header -->
  <header class="topbar" id="topbar">
    <div class="container topbar-inner">
      <div class="brand"><a class="brand-link" href="#home">مجموعة الخولي القانونية</a></div>
      <nav class="nav" aria-label="التنقل الرئيسي">
        <a class="nav-link" href="#home">الرئيسية</a>
        <a class="nav-link" href="#about">من نحن</a>
        <a class="nav-link" href="#services">خدماتنا</a>
        <a class="nav-link" href="#events">فاعليات</a>
        <a class="nav-link" href="#team">فريق العمل</a>
        <a class="nav-link" href="#contact">تواصل</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <main>
    <section id="home" class="hero">
      <div class="hero-overlay container" data-aos="fade-down">
        <h1>مجموعة الخولي القانونية</h1>
        <p class="lead">خبرة قانونية، استشارات متخصصة، ودعم منظمات المجتمع المدني.</p>
        <div class="hero-ctas">
          <a class="btn" href="#about">تعرف علينا</a>
          <a class="btn ghost" href="#contact">تواصل معنا</a>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section">
      <div class="container" data-aos="fade-up">
        <h2>من نحن</h2>
        <p>نقدم خدمات قانونية واستشارية للمؤسسات والجمعيات. خبراتنا تغطي العقود، الحوكمة، والتراخيص.</p>
      </div>
    </section>

    <!-- Services -->
    <section id="services" class="section alt">
      <div class="container" data-aos="fade-up">
        <h2>خدماتنا</h2>
        <div class="services-grid">
          <div class="service" data-aos="fade-up" data-aos-delay="40">
            <h3>الاستشارات القانونية</h3>
            <p>قضايا مدنية، عقود، وتمثيل قضائي.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="80">
            <h3>التراخيص والتنظيم</h3>
            <p>متابعة إجراءات الترخيص للمنظمات والجمعيات.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="120">
            <h3>العقود والمناقصات</h3>
            <p>إعداد مستندات المناقصات وصياغة العقود.</p>
          </div>
          <div class="service" data-aos="fade-up" data-aos-delay="160">
            <h3>التدريب وورش العمل</h3>
            <p>ورش لتأهيل الإدارات ومجلس الإدارة في المنظمات.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Events / Achievements -->
    <section id="events" class="section">
      <div class="container">
        <h2 data-aos="fade-up">فاعليات وإنجازات</h2>

        <!-- Featured video placeholder -->
        <div class="featured" data-aos="fade-up" data-aos-delay="40">
          <div class="featured-media">
            <div class="video-placeholder">مكان الفيديو (يوتيوب) - سيتم إدراجه لاحقًا</div>
          </div>
          <div class="featured-body">
            <h3>مداخلة تلفزيونية</h3>
            <p class="muted">حلقة - تاريخ: 19 مارس 2023</p>
            <p>شرح حول أحكام القانون ودعم المنظمات.</p>
          </div>
        </div>

        <!-- Achievements list (rendered by JS) -->
        <div id="achievements-grid" class="achievements-grid"></div>
      </div>
    </section>

    <!-- Team -->
    <section id="team" class="section alt">
      <div class="container" data-aos="fade-up">
        <h2>فريق العمل</h2>
        <div class="team-grid">
          <div class="team-card" data-aos="fade-up">
            <div class="team-photo-placeholder">عاصم الخولي</div>
            <h3>عاصم الخولي</h3>
            <p class="muted">مدير و محامي استشاري</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section contact">
      <div class="container" data-aos="fade-up">
        <h2>تواصل معنا</h2>
        <p>العنوان: شارع الهرم، الجيزة، مصر</p>
        <p>البريد: <a href="mailto:elkholy@elkholylawfirm.com">elkholy@elkholylawfirm.com</a></p>
        <p>الهاتف: +20 111 774 5552</p>
      </div>
    </section>
  </main>

  <!-- Floating WhatsApp -->
  <a class="whatsapp-fab" href="https://wa.me/201117745552" target="_blank" aria-label="WhatsApp">WA</a>

  <footer class="footer">
    <div class="container">© مجموعة الخولي القانونية</div>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <script>
    /* ---------- INIT AOS ---------- */
    AOS.init({ once:true, duration:700, offset:120 });

    /* ---------- Achievements data - edit these or leave image empty for placeholder ---------- */
    const ACH = [
      { title: "ورشة عمل: الإدارة القانونية", text: "ورشة تدريبية لتطوير مهارات فرق العمل.", image: "", date: "21 فبراير 2024", aos: "fade-left" },
      { title: "مقال رأي: تحسين الحوكمة", text: "مقال في صحف محلية عن مبادئ الحوكمة.", image: "", date: "10 يناير 2024", aos: "fade-right" },
      { title: "ورشة توعوية بالأقصر", text: "فعاليات توعية قانونية للمجتمع المحلي.", image: "", date: "5 ديسمبر 2023", aos: "fade-left" },
      { title: "سلسلة تعليمية قانونية", text: "دورات وتدريب للكفاءات الشابة.", image: "", date: "28 أكتوبر 2023", aos: "fade-right" }
    ];

    /* ---------- Helper to escape text for safe HTML insertion ---------- */
    function escapeHtml(s){
      return (s||'').toString().replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[c]);
    }

    /* ---------- Render achievements as single-parent HTML blocks (no JSX/fragment issues) ---------- */
    function renderAchievementsList() {
      const container = document.getElementById('achievements-grid');
      if (!container) return;

      let html = '';
      ACHIEVEMENTS.forEach((achievement, idx) => {
        const imageFirst = idx % 2 === 0;
        const imgHtml = achievement.image && achievement.image.trim()
          ? `<div class="ach-img"><img src="${escapeHtml(achievement.image)}" alt="${escapeHtml(achievement.title)}" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'"><div class="image-placeholder" style="display:none">${escapeHtml(achievement.title)}</div></div>`
          : `<div class="ach-img"><div class="image-placeholder">${escapeHtml(achievement.title)}</div></div>`;

        const textHtml = `<div class="ach-text"><h3>${escapeHtml(achievement.title)}</h3><p>${escapeHtml(achievement.text)}</p><div class="ach-date muted">${escapeHtml(achievement.date)}</div></div>`;

        // Set AOS directions (alternating)
        const leftAnim = achievement.aos || 'fade-left';
        const rightAnim = (achievement.aos === 'fade-left') ? 'fade-right' : (achievement.aos || 'fade-right');

        // Single parent HTML string for each row
        if (imageFirst) {
          html += `<div class="achievement-row"><div class="ach-img" data-aos="${leftAnim}">${imgHtml}</div><div class="ach-text" data-aos="${rightAnim}">${textHtml}</div></div>`;
        } else {
          html += `<div class="achievement-row"><div class="ach-text" data-aos="${leftAnim}">${textHtml}</div><div class="ach-img" data-aos="${rightAnim}">${imgHtml}</div></div>`;
        }
      });
      container.innerHTML = html;
      AOS.refresh();
    }

    /* ---------- Anchor offset (sticky header) - intercept in-page links ---------- */
    (function(){
      const topbar = document.getElementById('topbar');
      function getTopbarHeight(){ return topbar ? topbar.offsetHeight : 72; }
      function scrollToHashWithOffset(hash){
        if(!hash) return;
        const target = document.querySelector(hash);
        if(!target) return;
        const top = window.pageYOffset + target.getBoundingClientRect().top - (getTopbarHeight() + 12);
        window.scrollTo({ top, behavior: 'smooth' });
      }
      // intercept clicks to anchor links
      document.addEventListener('click', function(e){
        const a = e.target.closest('a[href^="#"]');
        if(!a) return;
        const hash = a.getAttribute('href');
        if(!hash || hash === '#') return;
        const target = document.querySelector(hash);
        if(!target) return;
        e.preventDefault();
        scrollToHashWithOffset(hash);
        history.pushState(null, '', hash);
      }, true);

      // On load if URL contains a hash
      window.addEventListener('load', function(){ setTimeout(()=>{
        renderAchievementsList(); // ensure achievements exist before scrolling
        if(location.hash){ scrollToHashWithOffset(location.hash); }
      }, 80); });

      window.addEventListener('resize', function(){ /* topbar height auto-handled */ });
    })();
